import { gql, useQuery } from '@apollo/client'
import React, { useEffect, useState } from 'react'
import { Link } from 'react-router-dom'
import './component_css/ProfileInfo.css'

const my_info = gql`
  query Me {
    me {
      _id
      name
      username
    }
  }
`

function ProfileInfo() {

  const [name, setName] = useState('')
  const [userName, setUserName] = useState('')

  const { loading, error, data, refetch } = useQuery(my_info)

  console.log('data in profile : ', data);

  useEffect(() => {

    if (data) {

      setName(data.me.name)
      setUserName(data.me.username)

    }

  }, [data])

  return (
    <div className='flex flex-col justify-center items-center'>
      <div className='mb-[2vw]'>
        <svg xmlns="http://www.w3.org/2000/svg"
          id="f36e36b5-a914-4189-a8f7-2c7091a7d461"
          data-name="Layer 1" width="276" height="276"
          viewBox="0 0 676 676" class="injected-svg ClassicGrid__ImageFile-sc-td9pmq-4 fNAcXv grid_media"
          xmlnsXlink="http://www.w3.org/1999/xlink"><title>female_avatar</title>
          <path
            d="M938,450a337.10014,337.10014,0,0,1-24.55,126.7c-.04.09-.07.17-.11.26v.01a336.51307,336.51307,0,0,1-42.79,75.64q-5.055,6.75-10.43,13.22c-1.31,1.58-2.64,3.15-3.97,4.7q-10.275,11.925-21.62,22.85-2.64,2.54994-5.34,5.04c-.42.39-.84.77-1.26,1.16a337.81887,337.81887,0,0,1-27.65,22.7q-9.675,7.155-19.86,13.59-2.235,1.425-4.5,2.8-3.93,2.4-7.93,4.69-5.22,3-10.57,5.81c-1.44.77-2.88995,1.51-4.34,2.25-2.12,1.09-4.25,2.14-6.4,3.17-.37.18-.74.36-1.11.53-1.4.68-2.82,1.34-4.24,2a334.89638,334.89638,0,0,1-57.46,20.39c-.11.03-.21.05-.32.08-1.29.33-2.59.65-3.89.96-.97.24-1.95.47-2.93.69a2.48782,2.48782,0,0,1-.37.09c-2.01.47-4.02.92-6.05,1.33-1.14.24-2.28.48-3.42.71-.69.15-1.39.28-2.08.41-.87.17-1.73.33-2.6.5-.48.1-.96.18-1.45.26-1.1.2-2.2.4-3.29.59-1.86.32-3.74.63-5.61.91-1.36.21-2.71.41-4.07.6-1.6.23-3.2.44-4.81.64-.44.07-.88.12-1.32.17q-.85491.10492-1.71.21c-1.15.14-2.3.27-3.46.39-.6.07-1.19.13-1.79.19q-1.71.18-3.42.33c-1.47.13995-2.94.26-4.42.38-1.8.14-3.59.27-5.4.38-1.16.07-2.32.14-3.49.2-2.98.16-5.96.27-8.96.35-1.49.04-2.99.07-4.49.09h-.03c-1.49.02-2.99.03-4.49.03a339.151,339.151,0,0,1-45.45-3.04q-16.575-2.22-32.62-6.02c-.43-.1-.86-.2-1.28-.31-1.08-.25-2.15-.52-3.22-.79-.95-.24-1.89-.49-2.84-.74a335.35735,335.35735,0,0,1-70.6-27.19c-.11-.06-.23-.12-.34-.18-.65-.34-1.29-.67-1.93-1.02q-2.115-1.11-4.21-2.26-11.925-6.55507-23.24-14.02-2.91-1.905-5.76-3.87c-.61-.42-1.21-.84-1.81-1.26-.63-.44-1.26-.88-1.88-1.32q-2.475-1.755-4.92-3.55-10.125-7.44-19.65-15.61a339.74031,339.74031,0,0,1-59.16-65.85Q312.315,628.19,304.71,614.59A336.38981,336.38981,0,0,1,262,450c0-186.67,151.33-338,338-338S938,263.33,938,450Z" transform="translate(-262 -112)" fill="#6C63FF"></path><path d="M654.35,778.63c1.08-.25,2.15-.52,3.22-.79.95-.24,1.89-.49,2.84-.74.05-1.99.12006-4.18.19-6.55.59-18.56,1.98-48.44,5.26-84.44q.27-2.895.54-5.83c1.17-12.2,2.54-25.03,4.18-38.33.05-.44.11-.87.16-1.31,1.33-10.78,2.84-21.85,4.54-33.13q1.78491-11.835,3.86-23.93c.1-.56.2-1.13.3-1.69.4-2.33.81-4.65,1.23-6.99,1.17-6.51,2.42-13.06,3.73-19.61,4.61-23.04,10.1-46.22,16.65-68.77a550.90913,550.90913,0,0,1,24.53-68.61,338.80588,338.80588,0,0,1,26.74-49.83c.15-.23.3-.45.45-.68,13.15-19.81,28.18-36.62,45.34-49.19l-3.56-4.86q-24.66,18.075-45.24,48.1c-.07.1-.13.19-.2.29A327.43692,327.43692,0,0,0,722.19,410a527.39526,527.39526,0,0,0-25.68,69.37q-9.84,33.03-17.65,71.57-2.74494,13.575-5.24,27.82c-.28,1.62-.56,3.24-.84,4.87,0,.02-.01.05-.01.07-.43,2.5-.84,5-1.26,7.53q-1.56006,9.555-2.94,18.96-2.13,14.49-3.85,28.48-.56991,4.62-1.1,9.17-.75,6.42-1.42,12.67-.945,8.7-1.73,17.03l-.15,1.53c-.08.88-.16,1.76-.24,2.63C656.02,725.49,654.75,760.86,654.35,778.63Z"
              transform="translate(-262 -112)" opacity="0.2">
          </path><path
            d="M731.01,749.91c.11-.06.23-.12.34-.18,2.06-1.07,4.1-2.16,6.14-3.28.67-7.98,1.57-16.75,2.75-25.97.25-1.9.5-3.83.78-5.77.13995-1.04.29-2.09.44-3.15,1.18-8.12,2.58-16.5,4.26-24.92,6.83-34.36,18.17-69.48,37-91.16,1.01-1.17,2.04-2.29,3.11005-3.38a67.66245,67.66245,0,0,1,8.61-7.55l-3.56-4.85a77.071,77.071,0,0,0-11.8,10.79q-1.875,2.085-3.66,4.34c-17.33,21.81-28.15,54.1-34.88995,86.07-1.76,8.34-3.24,16.67005-4.5,24.78q-.48,3.18-.92,6.3C733.16,725.72,731.87,738.7,731.01,749.91Z"
            transform="translate(-262 -112)"
            opacity="0.2"></path>
          <circle cx="569.73826"
            cy="175.98167" r="30.08857"
            opacity="0.2"></circle><circle
              cx="560.0486" cy="434.99083"
              r="30.08857" opacity="0.2"></circle>
          <path d="M712.28551,338.52139c6.38046,35.99732-7.70456,68.59225-7.70456,68.59225s-24.42979-25.76825-30.81025-61.76557,7.70457-68.59225,7.70457-68.59225S705.90506,302.52407,712.28551,338.52139Z"
            transform="translate(-262 -112)" opacity="0.2"></path>
          <path d="M812.28234,423.97122c-34.33494,12.555-68.83676,4.498-68.83676,4.498s21.16612-28.41279,55.50106-40.96784,68.83675-4.498,68.83675-4.498S846.61728,411.41617,812.28234,423.97122Z" transform="translate(-262 -112)" opacity="0.2"></path><path d="M818.10466,653.333c-24.066,8.80008-48.28314,3.0594-48.28314,3.0594s14.80161-20.00841,38.86762-28.80849,48.28314-3.0594,48.28314-3.0594S842.17067,644.53292,818.10466,653.333Z"
            transform="translate(-262 -112)" opacity="0.2"></path>
          <path d="M701.96,648.27l1.22.63C703.06006,650.2,702.77,651,701.96,648.27Z"
            transform="translate(-262 -112)" fill="#2F2E41"></path><path
              d="M703.57007,648.69c.01.14.02991.29.03992.43l-.43006-.22c.01-.13.02-.27.04-.41C703.32007,646.74,703.19995,644.67,703.57007,648.69Z"
              transform="translate(-262 -112)" fill="#2F2E41"></path><circle cx="311.68289"
                cy="324.64092" r="164.20902" fill="#2F2E41"></circle><circle cx="325.20044"
                  cy="382.71266" r="99.44441" fill="#D0CDE1"></circle><path
                    d="M814.27,685.31l-.12.03-23.13,5.55-48.16,11.56-6.57,1.58L663.05,721.6l-6.22,1.5L479.14,765.74a333.63858,333.63858,0,0,1-35.15-15.83c-.11-.06-.23-.12-.34-.18-.65-.34-1.29-.67-1.93-1.02q-2.115-1.11-4.21-2.26-11.925-6.55507-23.24-14.02-2.91-1.905-5.76-3.87c-.61-.42-1.21-.84-1.81-1.26-.63-.44-1.26-.88-1.88-1.32q-2.475-1.755-4.92-3.55c17.26-31.37,58.36-52.22,99.46-63.63,31.02-8.62,37.84-36.95,37.25-62.16a146.9523,146.9523,0,0,0-1.46-17.18,167.47773,167.47773,0,0,0-5.96-26.74l99.45,3.32,10.26,23.64a53.49156,53.49156,0,0,0-.27,7.82c.78,19.39,12.75,31.93,27.52,40.02,1.92,1.05005,3.89,2.03,5.89,2.94,24.22,11.01,52.73,11.76,52.73,11.76a101.52,101.52,0,0,1,26.09.49q3.15.48,6.12,1.15A88.13944,88.13944,0,0,1,789.09,658.23a91.60126,91.60126,0,0,1,10.41,8.63A82.67563,82.67563,0,0,1,814.27,685.31Z" transform="translate(-262 -112)" fill="#D0CDE1"></path><path d="M829.19,698.42c-.42.39-.84.77-1.26,1.16a337.81887,337.81887,0,0,1-27.65,22.7q-9.675,7.155-19.86,13.59-2.235,1.425-4.5,2.8-3.93,2.4-7.93,4.69-5.22,3-10.57,5.81c-1.44.77-2.88995,1.51-4.34,2.25-2.12,1.09-4.25,2.14-6.4,3.17-.37.18-.74.36-1.11.53l-4.23-3.51,49.68-60.72,9.99-12.21s3.99,0,13.14,6.66a130.9934,130.9934,0,0,1,14.3,12.34C828.69,697.93,828.94,698.17,829.19,698.42Z"
                      transform="translate(-262 -112)" fill="#D0CDE1"></path><path
                        d="M828.49,697.74a11.39223,11.39223,0,0,1-.56,1.84,337.81887,337.81887,0,0,1-27.65,22.7,117.95015,117.95015,0,0,1-25.79,6.13s.75,3.76,1.43,10.26q-3.93,2.4-7.93,4.69-5.22,3-10.57,5.81c-1.44.77-2.88995,1.51-4.34,2.25-2.12,1.09-4.25,2.14-6.4,3.17-.37.18-.74.36-1.11.53-1.4.68-2.82,1.34-4.24,2a334.89638,334.89638,0,0,1-57.46,20.39c-.11.03-.21.05-.32.08-1.29.33-2.59.65-3.89.96-.97.24-1.95.47-2.93.69a2.48782,2.48782,0,0,1-.37.09c-2.01.47-4.02.92-6.05,1.33-1.14.24-2.28.48-3.42.71-.69.15-1.39.28-2.08.41-.87.17-1.73.33-2.6.5-.48.1-.96.18-1.45.26-1.1.2-2.2.4-3.29.59-1.86.32-3.74.63-5.61.91-1.36.21-2.71.41-4.07.6-1.6.23-3.2.44-4.81.64-.44.07-.88.12-1.32.17q-.85491.10492-1.71.21c-1.15.14-2.3.27-3.46.39-.6.07-1.19.13-1.79.19q-1.71.18-3.42.33c-1.47.13995-2.94.26-4.42.38-1.8.14-3.59.27-5.4.38-1.16.07-2.32.14-3.49.2-2.98.16-5.96.27-8.96.35-1.49.04-2.99.07-4.49.09h-.03c-1.49.02-2.99.03-4.49.03a339.151,339.151,0,0,1-45.45-3.04q-16.575-2.22-32.62-6.02c-.43-.1-.86-.2-1.28-.31-1.08-.25-2.15-.52-3.22-.79-.95-.24-1.89-.49-2.84-.74a335.35735,335.35735,0,0,1-70.6-27.19c-.11-.06-.23-.12-.34-.18-.65-.34-1.29-.67-1.93-1.02,54.89-12.79,141.63-32.96,216.9-50.24q3.165-.72,6.29-1.44c27.8-6.38,53.84-12.32,75.87006-17.29q3.42-.765,6.69995-1.5c23.67-5.32,42.05005-9.36,52.02-11.38a81.48836,81.48836,0,0,1,8.14-1.43l20.81,32.25Z"
                        transform="translate(-262 -112)" fill="#2F2E41"></path><circle cx="161.4491" cy="205.85142" r="48.91333" fill="#2F2E41"></circle><circle cx="461.91668" cy="191.87618" r="48.91333" fill="#2F2E41"></circle><path d="M671.50954,282.91333a48.91227,48.91227,0,0,1,43.67262-48.62417,48.91338,48.91338,0,1,0,0,97.24833A48.91227,48.91227,0,0,1,671.50954,282.91333Z" transform="translate(-262 -112)" fill="#2F2E41"></path><path d="M368.796,357.41647a48.91227,48.91227,0,0,1-2.83554-65.296,48.91337,48.91337,0,1,0,68.06011,69.46264A48.91226,48.91226,0,0,1,368.796,357.41647Z" transform="translate(-262 -112)" fill="#2F2E41"></path><path d="M573.68289,359.77712c-57.88732,0-104.81427,27.37407-104.81427,61.14166,0,15.10906,9.43269,28.91775,25.003,39.58556l20.1779-14.62031-5.48723,22.90446c2.27682,1.05513,4.60162,2.07636,7.02643,3.02019l30.1437-35.16776v43.20369a175.95757,175.95757,0,0,0,27.95047,2.21583c57.88732,0,104.81427-27.37407,104.81427-61.14166S631.57021,359.77712,573.68289,359.77712Z" transform="translate(-262 -112)" fill="#2F2E41"></path><path d="M675.00335,303.87618s-7.59666,34.93809,39.87428,48.91333Z" transform="translate(-262 -112)" fill="#2F2E41"></path><path d="M468.86862,310.23519s17.469,39.06051-34.93809,56.52955Z" transform="translate(-262 -112)" fill="#2F2E41"></path><ellipse cx="489.41344" cy="514.60154" rx="8.28703" ry="19.88888" transform="translate(-382.60837 38.98959) rotate(-15.63946)" fill="#D0CDE1"></ellipse><ellipse cx="688.30226" cy="498.02747" rx="19.88888" ry="8.28703"
                          transform="translate(-113.09381 1042.41397) rotate(-86.47577)" fill="#D0CDE1"></ellipse></svg></div>
      <div className='flex justify-center text-[4vw]'>{name}</div>
      <div className='flex justify-center text-[4vw] text-[#d3d5d5]'>{userName}</div>
      <div className='EditUser'>
        <Link to={'/dashboard/edit'}>
          <span>
            <svg xmlnsXlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"
              width="30" height="32" viewBox="0 0 20 22" fill="none" class="site-nav-dropdown-icon">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M1.99999 2C1.01482 4.13455 0.223755 8.17789 4.7902 7.53235L3.5 8.5L4 10H3V18C3 19.1046 3.89543 20 5 20H12C13.1046 20 14 19.1046 14 18V10H13L14.5 5.5L14 2L11 4L9 9.5L13 10H7.5L5.5 7L5.28504 7.16122C5.76869 6.48755 6.24377 5.24377 5 4L1.99999 2Z"
                fill="#2F2E41" fill-opacity="0.15"></path>
              <path fill-rule="evenodd"
                clip-rule="evenodd"
                d="M14.7299 1.48449C14.682 1.21679 14.4929 0.996026 14.2357 0.907531C13.9786 0.819036 13.6937 0.876681 13.4911 1.05818L10.4411 3.79151C10.3472 3.87571 10.276 3.98224 10.2342 4.10126L8.43534 9.21686H8.36303L6.47967 6.45549C6.56825 6.14342 6.60427 5.81828 6.5858 5.49347C6.56388 5.10793 6.46561 4.73064 6.29678 4.38348C6.07936 3.89473 5.72683 3.47813 5.28051 3.18282L5.28054 3.18279L5.27427 3.17873C4.74835 2.83823 4.37325 2.69769 4.17254 2.62248L4.17253 2.62248L4.17253 2.62248C4.11611 2.60134 4.07347 2.58536 4.04514 2.57156C3.82759 2.46558 3.42515 2.20273 2.16736 1.07491C1.99274 0.918328 1.75492 0.852455 1.52463 0.896873C1.29433 0.941291 1.09807 1.09089 0.99421 1.30117C0.571373 2.15729 0.351425 3.09929 0.351425 4.05413C0.351425 5.00027 0.567381 5.93381 0.982697 6.78366C1.13009 7.13636 1.34541 7.45675 1.6165 7.72651C1.89431 8.00296 2.22498 8.22059 2.58876 8.36639C2.72967 8.42287 2.87443 8.46812 3.02169 8.5019L3.10232 9.21686H3.02499C2.61078 9.21686 2.27499 9.55265 2.27499 9.96686V16.6335C2.27499 17.827 2.7491 18.9716 3.59301 19.8155C4.43693 20.6594 5.58152 21.1335 6.77499 21.1335H10.525V20.3834L10.5267 21.1335C11.7189 21.1309 12.8615 20.6561 13.7045 19.8131C14.3691 19.1486 14.8048 18.2979 14.9608 17.3835H15.525C16.608 17.3835 17.6466 16.9533 18.4123 16.1875C19.1781 15.4218 19.6083 14.3832 19.6083 13.3002C19.6083 12.2172 19.1781 11.1786 18.4123 10.4128C17.6466 9.64706 16.608 9.21685 15.525 9.21685H14.275L14.2703 9.21686H14.1848L15.399 5.77452C15.4422 5.65211 15.4528 5.52059 15.4299 5.39282L14.7299 1.48449ZM13.1161 10.7169C13.122 10.7169 13.128 10.7169 13.134 10.7169H13.525V16.6327C13.523 17.4279 13.2062 18.1901 12.6439 18.7524C12.0815 19.3148 11.3194 19.6316 10.5241 19.6335H6.77499C5.97934 19.6335 5.21628 19.3175 4.65367 18.7549C4.09106 18.1922 3.77499 17.4292 3.77499 16.6335V10.7169H7.96602C7.96691 10.7169 7.9678 10.7169 7.96869 10.7169H8.95776C8.96372 10.7169 8.96968 10.7169 8.97563 10.7169H13.1161ZM12.5942 9.21686L13.9185 5.46233L13.4906 3.07291L11.5854 4.78024L10.0254 9.21686H12.5942ZM6.54736 9.21686L5.60911 7.8412C5.38857 8.0368 5.13922 8.1982 4.86934 8.31948C4.75721 8.36986 4.64226 8.413 4.5252 8.44872L4.61183 9.21686H6.54736ZM3.95484 7.04759C4.05775 7.02677 4.15827 6.99452 4.25451 6.95127C4.42814 6.87325 4.58427 6.76103 4.71357 6.62132C4.78039 6.54912 4.83933 6.47034 4.88958 6.38634C4.91142 6.27716 4.95742 6.17277 5.02594 6.08188C5.07675 5.9194 5.09791 5.74893 5.08822 5.57864C5.07741 5.38859 5.02841 5.20266 4.94415 5.03197C4.93903 5.02161 4.93416 5.01113 4.92953 5.00055C4.82898 4.77069 4.66446 4.57461 4.45562 4.43565C4.07128 4.18702 3.95282 4.14541 3.79607 4.09035C3.69894 4.05623 3.5871 4.01695 3.38819 3.92004C3.06613 3.76315 2.68024 3.49914 1.99116 2.91454C1.89865 3.28608 1.85143 3.66873 1.85143 4.05413C1.85143 4.77858 2.0183 5.4933 2.33911 6.14284C2.34716 6.15913 2.35461 6.17571 2.36145 6.19254C2.43314 6.36889 2.53963 6.52899 2.67456 6.66326C2.80949 6.79754 2.97011 6.90324 3.1468 6.97406C3.23411 7.00905 3.32445 7.03517 3.41648 7.05217C3.47646 7.02856 3.54049 7.01236 3.6076 7.00479C3.72932 6.99106 3.84753 7.00729 3.95484 7.04759ZM15.525 15.8835H15.025V10.7169H15.525C16.2101 10.7169 16.8672 10.989 17.3517 11.4735C17.8362 11.958 18.1083 12.615 18.1083 13.3002C18.1083 13.9853 17.8362 14.6424 17.3517 15.1269C16.8672 15.6113 16.2101 15.8835 15.525 15.8835Z"
                fill="#2F2E41"></path>
            </svg>
          </span>
        </Link>
      </div>
    </div>
  )
}

export default ProfileInfo